/* ============================================
   Header & Navigation
   ============================================ */

.site-header {
	background-color: var(--color-navy);
	border-bottom: 1px solid rgba(217, 176, 102, 0.2);
	padding: var(--spacing-md) 0;
	position: relative; /* Changed from sticky */
	/* top: 0; Removed */
	z-index: 1000;
	box-shadow: var(--shadow-soft);
}

.header-inner {
	display: flex;
	justify-content: center;
	align-items: center;
	max-width: var(--container-width);
	margin: 0 auto;
	padding: 0 var(--container-padding);
}

.site-branding {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 100%;
}

.site-logo {
	display: flex;
	align-items: center;
	font-family: var(--font-heading);
	font-size: 1.25rem;
	font-weight: 600;
	color: var(--color-white);
}

.site-branding .custom-logo-link {
	display: flex;
	align-items: center;
}

.site-branding .custom-logo-link {
	display: flex;
	align-items: center;
	justify-content: center;
}

.site-branding .custom-logo-link img,
.site-logo img {
	max-height: 80px;
	width: auto;
	height: auto;
}

@media (min-width: 768px) {
	.site-branding .custom-logo-link img,
	.site-logo img {
		max-height: 100px;
	}
}

/* Primary Navigation */
.primary-navigation {
	background-color: var(--color-cream);
	position: relative; /* Changed from sticky */
	/* top: 110px; Removed */
	z-index: 999;
	width: 100%;
	box-shadow: 0 2px 8px rgba(45, 58, 83, 0.1);
}

@media (min-width: 768px) {
	.primary-navigation {
		/* top: 148px; Removed */
	}
}

.nav-container {
	max-width: var(--container-width);
	margin: 0 auto;
	padding: 0 var(--container-padding);
	display: flex;
	justify-content: center;
	align-items: center;
	position: relative;
}

.primary-navigation ul {
	list-style: none;
	display: flex;
	gap: var(--spacing-lg);
	align-items: center;
	flex-wrap: wrap;
	justify-content: center;
	margin: 0;
	padding: 0;
}

.nav-cart-wrapper {
	position: absolute;
	right: var(--container-padding);
	top: 50%;
	transform: translateY(-50%);
}

.primary-navigation ul {
	list-style: none;
	display: flex;
	gap: var(--spacing-lg);
	align-items: center;
	flex-wrap: wrap;
	justify-content: center;
	margin: 0;
	padding: 0;
}

.primary-navigation a {
	font-weight: 500;
	font-size: 0.95rem;
	text-transform: uppercase;
	letter-spacing: 0.5px;
	padding: var(--spacing-sm) var(--spacing-md);
	position: relative;
	color: var(--color-navy);
	display: flex;
	align-items: center;
	gap: var(--spacing-xs);
	text-decoration: none;
	transition: all 0.3s ease;
	border-radius: var(--radius-sm);
}

.primary-navigation a::before {
	content: '';
	display: inline-block;
	width: 20px;
	height: 20px;
	background-size: contain;
	background-repeat: no-repeat;
	background-position: center;
	flex-shrink: 0;
	opacity: 0.8;
	transition: opacity 0.3s ease;
}

/* Menu item icons based on URL or text */
.primary-navigation a[href*="home"]::before,
.primary-navigation .menu-item-home > a::before {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232D3A53'%3E%3Cpath d='M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z'/%3E%3C/svg%3E");
}

.primary-navigation a[href*="shop"]::before {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232D3A53'%3E%3Cpath d='M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.15.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E");
}

.primary-navigation a[href*="about"]::before {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232D3A53'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z'/%3E%3C/svg%3E");
}

.primary-navigation a[href*="contact"]::before {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232D3A53'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/%3E%3C/svg%3E");
}

/* Christmas Gifts menu item icon */
.primary-navigation a[href*="gift"]::before,
.primary-navigation a[href*="christmas"]::before,
.primary-navigation .menu-item-gift > a::before,
.primary-navigation .menu-item-christmas > a::before {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 640' fill='%232D3A53'%3E%3Cpath d='M385.5 132.8C393.1 119.9 406.9 112 421.8 112L424 112C446.1 112 464 129.9 464 152C464 174.1 446.1 192 424 192L350.7 192L385.5 132.8zM254.5 132.8L289.3 192L216 192C193.9 192 176 174.1 176 152C176 129.9 193.9 112 216 112L218.2 112C233.1 112 247 119.9 254.5 132.8zM344.1 108.5L320 149.5L295.9 108.5C279.7 80.9 250.1 64 218.2 64L216 64C167.4 64 128 103.4 128 152C128 166.4 131.5 180 137.6 192L96 192C78.3 192 64 206.3 64 224L64 256C64 273.7 78.3 288 96 288L544 288C561.7 288 576 273.7 576 256L576 224C576 206.3 561.7 192 544 192L502.4 192C508.5 180 512 166.4 512 152C512 103.4 472.6 64 424 64L421.8 64C389.9 64 360.3 80.9 344.1 108.4zM544 336L344 336L344 544L480 544C515.3 544 544 515.3 544 480L544 336zM296 336L96 336L96 480C96 515.3 124.7 544 160 544L296 544L296 336z'/%3E%3C/svg%3E");
}

/* Prints menu item icon */
.primary-navigation a[href*="print"]::before,
.primary-navigation a[href*="prints"]::before,
.primary-navigation a[href*="Print"]::before,
.primary-navigation a[href*="Prints"]::before,
.primary-navigation .menu-item-print > a::before,
.primary-navigation .menu-item-prints > a::before,
.primary-navigation li:has(a[href*="print"]) > a::before,
.primary-navigation li:has(a[href*="prints"]) > a::before {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 640' fill='%232D3A53'%3E%3Cpath d='M160 96C124.7 96 96 124.7 96 160L96 480C96 515.3 124.7 544 160 544L480 544C515.3 544 544 515.3 544 480L544 160C544 124.7 515.3 96 480 96L160 96zM224 176C250.5 176 272 197.5 272 224C272 250.5 250.5 272 224 272C197.5 272 176 250.5 176 224C176 197.5 197.5 176 224 176zM368 288C376.4 288 384.1 292.4 388.5 299.5L476.5 443.5C481 450.9 481.2 460.2 477 467.8C472.8 475.4 464.7 480 456 480L184 480C175.1 480 166.8 475 162.7 467.1C158.6 459.2 159.2 449.6 164.3 442.3L220.3 362.3C224.8 355.9 232.1 352.1 240 352.1C247.9 352.1 255.2 355.9 259.7 362.3L286.1 400.1L347.5 299.6C351.9 292.5 359.6 288.1 368 288.1z'/%3E%3C/svg%3E");
}

/* Beads menu item icon */
.primary-navigation a[href*="bead"]:hover::before,
.primary-navigation a[href*="beads"]:hover::before,
.primary-navigation a[href*="Bead"]:hover::before,
.primary-navigation a[href*="Beads"]:hover::before,
.primary-navigation .menu-item-bead > a:hover::before,
.primary-navigation .menu-item-beads > a:hover::before,
.primary-navigation li:has(a[href*="bead"]) > a:hover::before,
.primary-navigation li:has(a[href*="beads"]) > a:hover::before,
.primary-navigation a[href*="bead"]:focus::before,
.primary-navigation a[href*="beads"]:focus::before,
.primary-navigation a[href*="Bead"]:focus::before,
.primary-navigation a[href*="Beads"]:focus::before,
.primary-navigation .menu-item-bead > a:focus::before,
.primary-navigation .menu-item-beads > a:focus::before,
.primary-navigation li:has(a[href*="bead"]) > a:focus::before,
.primary-navigation li:has(a[href*="beads"]) > a:focus::before {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 640' fill='%23D9889C'%3E%3Cpath d='M180.7 97.8C185.2 91.7 192.4 88 200 88L440 88C447.6 88 454.8 91.6 459.3 97.8L571.3 249.8C578.1 259 577.4 271.7 569.8 280.2L337.8 536.2C333.3 541.2 326.8 544.1 320 544.1C313.2 544.1 306.8 541.2 302.2 536.2L70.2 280.2C62.5 271.7 61.9 259 68.7 249.8L180.7 97.8zM219.2 137.6C215.9 140.1 215 144.6 217.1 148.1L274.5 243.8L127.3 256C123.2 256.3 120 259.8 120 264C120 268.2 123.2 271.6 127.3 272L319.3 288C319.7 288 320.2 288 320.6 288L512.6 272C516.7 271.7 519.9 268.2 519.9 264C519.9 259.8 516.7 256.4 512.6 256L365.4 243.7L422.8 148.1C424.9 144.6 424 140 420.7 137.6C417.4 135.2 412.8 135.6 410 138.6L320 236.2L229.9 138.6C227.1 135.6 222.5 135.2 219.2 137.6z'/%3E%3C/svg%3E");
}

/* Navigation Cart Icon */
.nav-cart-wrapper {
	display: flex;
	align-items: center;
}

.teb-cart-link {
	display: flex;
	align-items: center;
	gap: var(--spacing-xs);
	color: var(--color-navy);
	text-decoration: none;
	padding: var(--spacing-sm) var(--spacing-md);
	border: none;
	border-radius: var(--radius-sm);
	transition: all 0.3s ease;
	position: relative;
	font-weight: 500;
	font-size: 0.95rem;
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

.teb-cart-link:hover,
.teb-cart-link:focus {
	color: var(--color-deep-rose);
	background-color: rgba(217, 136, 156, 0.1);
}

.teb-cart-icon {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 20px;
	height: 20px;
	flex-shrink: 0;
}

.teb-cart-icon svg {
	width: 100%;
	height: 100%;
	fill: currentColor;
}

.teb-cart-count {
	font-family: var(--font-body);
	font-size: 0.875rem;
	font-weight: 600;
	color: currentColor;
	min-width: 20px;
	text-align: center;
	line-height: 1;
	background-color: var(--color-deep-rose);
	color: var(--color-white);
	border-radius: 50%;
	padding: 2px 6px;
	font-size: 0.75rem;
}

/* Dropdown Menu Styles */
.primary-navigation ul li {
	position: relative;
}

.primary-navigation ul ul {
	display: none;
	position: absolute;
	top: calc(100% + 4px);
	left: 0;
	background-color: var(--color-navy);
	border: 1px solid rgba(217, 176, 102, 0.2);
	border-radius: var(--radius-sm);
	box-shadow: var(--shadow-medium);
	padding: var(--spacing-xs) 0;
	min-width: 200px;
	z-index: 999;
	flex-direction: column;
	gap: 0;
	align-items: stretch;
}

/* Add padding to parent li to create hover bridge */
.primary-navigation ul li.menu-item-has-children::after {
	content: '';
	position: absolute;
	bottom: -4px;
	left: 0;
	right: 0;
	height: 4px;
	background: transparent;
}

.primary-navigation ul li:hover > ul,
.primary-navigation ul li.focus > ul {
	display: flex;
}

/* Keep dropdown visible when hovering over it */
.primary-navigation ul ul:hover {
	display: flex;
}

.primary-navigation ul ul li {
	width: 100%;
	margin: 0;
}

.primary-navigation ul ul a {
	padding: var(--spacing-sm) var(--spacing-md);
	display: block;
	width: 100%;
	text-transform: none;
	font-size: 0.9rem;
	letter-spacing: 0;
	color: var(--color-white);
}

.primary-navigation ul ul a::before {
	display: none;
}

.primary-navigation ul ul a::after {
	display: none;
}

.primary-navigation ul ul a:hover,
.primary-navigation ul ul a:focus {
	background-color: rgba(217, 176, 102, 0.2);
	color: var(--color-gold);
}

/* Menu items with children - add indicator */
.primary-navigation .menu-item-has-children > a {
	padding-right: 20px;
}

.primary-navigation .menu-item-has-children > a::after {
	content: '';
	position: absolute;
	right: 0;
	top: 50%;
	transform: translateY(-50%);
	opacity: 0.8;
	transition: transform 0.3s ease;
	width: 12px;
	height: 12px;
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 640'%3E%3Cpath d='M297.4 470.6C309.9 483.1 330.2 483.1 342.7 470.6L534.7 278.6C547.2 266.1 547.2 245.8 534.7 233.3C522.2 220.8 501.9 220.8 489.4 233.3L320 402.7L150.6 233.4C138.1 220.9 117.8 220.9 105.3 233.4C92.8 245.9 92.8 266.2 105.3 278.7L297.3 470.7z' fill='%23ffffff'/%3E%3C/svg%3E");
	background-size: contain;
	background-repeat: no-repeat;
	background-position: center;
}

.primary-navigation .menu-item-has-children:hover > a::after {
	transform: translateY(-50%) rotate(180deg);
}

/* Mobile Menu Toggle */
.menu-toggle {
	display: none;
	background: none;
	border: 2px solid var(--color-deep-rose);
	border-radius: var(--radius-sm);
	/* padding: 0.75rem; Removed to fix alignment */
	cursor: pointer;
	color: var(--color-white);
	transition: all 0.3s ease;
	width: 44px;
	height: 44px;
	/* Flex for centering icon */
	align-items: center;
	justify-content: center;
}

.hamburger-icon {
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: 5px;
	width: 24px;
	height: 18px;
}

.hamburger-icon span {
	display: block;
	width: 100%;
	height: 2px;
	background-color: var(--color-white);
	border-radius: 2px;
	transition: all 0.3s ease;
	transform-origin: center;
	position: relative;
}

.menu-toggle:hover,
.menu-toggle:focus {
	background-color: var(--color-deep-rose);
}

.menu-toggle:hover .hamburger-icon span,
.menu-toggle:focus .hamburger-icon span {
	background-color: var(--color-white);
}

.menu-toggle[aria-expanded="true"] .hamburger-icon span:nth-child(1) {
	transform: translateY(7px) rotate(45deg);
}

.menu-toggle[aria-expanded="true"] .hamburger-icon span:nth-child(2) {
	opacity: 0;
	transform: scaleX(0);
}

.menu-toggle[aria-expanded="true"] .hamburger-icon span:nth-child(3) {
	transform: translateY(-7px) rotate(-45deg);
}

.menu-toggle:focus {
	outline: 2px solid var(--color-deep-rose);
	outline-offset: 2px;
}

/* Mobile Menu */
@media (max-width: 1024px) {
	/* ... existing styles ... */
	
	.menu-toggle {
		display: flex; /* Changed from block to flex for centering */
		margin-right: auto; /* Push to left */
	}
	
	.primary-navigation {
		padding: var(--spacing-sm) 0;
	}
	
	.nav-container {
		flex-wrap: wrap;
		justify-content: space-between;
	}
	
	.primary-navigation ul {
		display: none;
		gap: var(--spacing-sm);
		flex-direction: column;
		width: 100%;
		margin-top: var(--spacing-md);
		animation: slideDown 0.3s ease-out forwards;
	}

	.primary-navigation.active ul {
		display: flex;
	}
	
	.nav-cart-wrapper {
		position: static;
		transform: none;
		width: 100%;
		justify-content: center;
		margin-top: var(--spacing-xs);
	}
	
	.primary-navigation a {
		padding: var(--spacing-xs) var(--spacing-sm);
		font-size: 0.875rem;
	}
	
	.primary-navigation a::before {
		width: 18px;
		height: 18px;
	}
	
	/* Mobile dropdown styles */
	.primary-navigation .menu-item-has-children > a {
		position: relative;
		padding-right: 2rem;
		display: flex;
		align-items: center;
		justify-content: space-between;
	}
	
	.primary-navigation .menu-item-has-children > a::after {
		content: '';
		position: absolute;
		right: 0;
		top: 50%;
		transform: translateY(-50%) rotate(0deg);
		opacity: 0.8;
		transition: transform 0.3s ease;
		width: 12px;
		height: 12px;
		background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 640'%3E%3Cpath d='M297.4 470.6C309.9 483.1 330.2 483.1 342.7 470.6L534.7 278.6C547.2 266.1 547.2 245.8 534.7 233.3C522.2 220.8 501.9 220.8 489.4 233.3L320 402.7L150.6 233.4C138.1 220.9 117.8 220.9 105.3 233.4C92.8 245.9 92.8 266.2 105.3 278.7L297.3 470.7z' fill='%23ffffff'/%3E%3C/svg%3E");
		background-size: contain;
		background-repeat: no-repeat;
		background-position: center;
		flex-shrink: 0;
	}
	
	.primary-navigation .menu-item-has-children.menu-item-open > a::after {
		transform: translateY(-50%) rotate(180deg);
	}
	
	.primary-navigation ul ul {
		position: static;
		display: none;
		background-color: rgba(255, 255, 255, 0.05);
		border-left: 2px solid rgba(217, 176, 102, 0.3);
		box-shadow: none;
		margin-top: var(--spacing-xs);
		margin-left: var(--spacing-md);
		padding: var(--spacing-xs) 0 var(--spacing-xs) var(--spacing-sm);
		width: calc(100% - var(--spacing-md));
	}
	
	.primary-navigation ul li.menu-item-open > ul {
		display: flex;
		flex-direction: column;
	}
	
	.primary-navigation ul ul li {
		margin-bottom: var(--spacing-xs);
	}
	
	.primary-navigation ul ul a {
		padding: var(--spacing-sm) var(--spacing-md);
		font-size: 0.875rem;
		opacity: 0.9;
		color: var(--color-white);
	}
	
	.primary-navigation ul ul a:hover,
	.primary-navigation ul ul a:focus {
		opacity: 1;
		color: var(--color-gold);
		background-color: rgba(217, 176, 102, 0.15);
	}
}
